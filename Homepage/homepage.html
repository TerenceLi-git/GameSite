<html>
<head>
    <title>Homepage</title>
</head>
<style>

</style>
<script>
    function logout()
    {
        sessionStorage.clear();
        location.href = '/../../';
    }

    function getCookie(name) {
        return (document.cookie.match('(^|;) *'+name+'=([^;]*)')||[])[2];
    }

    async function initalize(){
        var idVal = sessionStorage.getItem("POSSID");
        var x = getCookie("POSSID");
        console.log(x);
        data = {
            id : idVal
        }
        let response = await fetch('../getInfo', {
                method: 'POST', // or 'PUT'
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
        })
        let text = await response.text();
        let jsonFormat = JSON.parse(text);

        document.getElementById("Name").innerHTML = "Hello, " + jsonFormat.firstName + "&nbsp" + jsonFormat.lastName;
    }
</script>
<body onload="initalize();">
    TEMPORARY HOMEPAGE WORK IN PROGRESS!
    <button onclick="logout();"> Log out </button>
    
    <div id="Name"> </div>
    <input type="button" onclick="location.href='/chess/HTML_FILES/chess.html';" value="Chess" />
    <input type="button" onclick="location.href='/rng/roller.html';" value="Roller" />
</body>
</html>